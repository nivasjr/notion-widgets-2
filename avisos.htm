<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background-color: transparent; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }

        /* A Barra do Ticker */
        .ticker-container {
            width: 100%;
            height: 40px; /* Altura da barra */
            background-color: #111; /* Preto Bolsa de Valores */
            color: #fff;
            display: flex;
            align-items: center;
            overflow: hidden; /* Corta o que sai da tela */
            white-space: nowrap; /* Impede quebra de linha */
            border-radius: 4px; /* Cantos levemente arredondados */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* O Texto que se move */
        .ticker-text {
            display: inline-block;
            padding-left: 100%; /* Começa fora da tela na direita */
            animation: scroll-left 25s linear infinite; /* 25s = velocidade */
            font-size: 16px;
            font-weight: 500;
        }

        /* Cores Especiais */
        .highlight-green { color: #00ff41; font-weight: bold; } /* Verde Terminal */
        .highlight-red { color: #ff3b30; font-weight: bold; }   /* Vermelho Urgente */
        .separator { margin: 0 15px; color: #555; } /* Separador discreto */

        @keyframes scroll-left {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
    </style>
</head>
<body>

    <div class="ticker-container">
        <div class="ticker-text" id="messages">
            </div>
    </div>

    <script>
        // 1. Tenta pegar as mensagens da URL
        const params = new URLSearchParams(window.location.search);
        let msgString = params.get('msgs');

        // 2. Se não tiver mensagem, ativa o MODO DEMO (para não ficar branco)
        if (!msgString) {
            msgString = "URGENTE: Configure sua URL no Notion | DICA: Use ?msgs=Aviso 1|Aviso 2 | SISTEMA: Aguardando dados...";
        }

        // 3. Monta o HTML
        const msgArray = msgString.split('|');
        let htmlContent = "";

        // Repetimos o conteúdo algumas vezes para garantir que a faixa fique cheia
        // enquanto a animação roda
        const loops = 5; 
        
        for (let i = 0; i < loops; i++) {
            msgArray.forEach(msg => {
                let finalMsg = msg.trim();
                
                // Lógica de cores (Bolsa de Valores)
                if (finalMsg.toUpperCase().includes("URGENTE") || finalMsg.toUpperCase().includes("ATENÇÃO")) {
                    finalMsg = `<span class="highlight-red">${finalMsg}</span>`;
                } else if (finalMsg.toUpperCase().includes("META") || finalMsg.toUpperCase().includes("APROVADO")) {
                    finalMsg = `<span class="highlight-green">${finalMsg}</span>`;
                }

                htmlContent += `${finalMsg} <span class="separator">■</span> `;
            });
        }

        document.getElementById('messages').innerHTML = htmlContent;
    </script>

</body>
</html>
